// =======================================
// ARTWORK IMAGE LIST (20 IMAGES)
// =======================================
const images = [
    'images/Art_1.jpg',
    'images/Art_2.jpg',
    'images/Art_3.jpg',
    'images/Art_4.jpg',
    'images/Art_5.jpg',
    'images/Art_6.jpg',
    'images/Art_7.jpg',
    'images/Art_8.jpg',
    'images/Art_9.jpg',
    'images/Art_10.jpg',
    'images/Art_11.jpg',
    'images/Art_12.jpg',
    'images/Art_13.jpg',
    'images/Art_14.jpg',
    'images/Art_15.jpg',
    'images/Art_16.jpg',
    'images/Art_17.jpg',
    'images/Art_18.jpg',
    'images/Art_19.jpg',
    'images/Art_20.jpg'
];

// =======================================
// LOAD GALLERY
// =======================================
function loadGallery() {
    const galleryGrid = document.getElementById('galleryGrid');
    galleryGrid.innerHTML = '';

    images.forEach((imagePath, index) => {
        const galleryItem = document.createElement('div');
        galleryItem.className = 'gallery-item';
        galleryItem.addEventListener('click', () => openLightbox(index));

        const img = document.createElement('img');
        img.src = imagePath;
        img.alt = `Artwork ${index + 1}`;
        img.loading = 'lazy';

        galleryItem.appendChild(img);
        galleryGrid.appendChild(galleryItem);
    });
}

// =======================================
// LIGHTBOX SYSTEM
// =======================================
let currentImageIndex = 0;

function openLightbox(index) {
    currentImageIndex = index;
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');

    lightbox.style.display = 'block';
    lightboxImg.src = images[currentImageIndex];
    document.body.style.overflow = 'hidden';
}

function closeLightbox() {
    document.getElementById('lightbox').style.display = 'none';
    document.body.style.overflow = 'auto';
}

function changeImage(direction) {
    currentImageIndex += direction;

    if (currentImageIndex >= images.length) {
        currentImageIndex = 0;
    }

    if (currentImageIndex < 0) {
        currentImageIndex = images.length - 1;
    }

    document.getElementById('lightboxImg').src =
        images[currentImageIndex];
}

// =======================================
// EVENTS
// =======================================
document.addEventListener('DOMContentLoaded', () => {
    loadGallery();

    document.querySelector('.close-lightbox').onclick = closeLightbox;
    document.querySelector('.prev').onclick = () => changeImage(-1);
    document.querySelector('.next').onclick = () => changeImage(1);

    document.getElementById('lightbox').addEventListener('click', e => {
        if (e.target.id === 'lightbox') closeLightbox();
    });

    document.addEventListener('keydown', e => {
        const lightbox = document.getElementById('lightbox');

        if (lightbox.style.display === 'block') {
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft') changeImage(-1);
            if (e.key === 'ArrowRight') changeImage(1);
        }
    });
});

// =======================================
// SMOOTH SCROLL
// =======================================
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
